<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="reply">

<select id="getList" resultType="replyvo" parameterType="map">
	<![CDATA[
		select no,
		       name,
		       message,
		       date_format(reg_date, '%Y-%m-%d') as regDate,
		       group_no as groupNo,
		       order_no as orderNo,
		       depth
		   from reply 
		    where board_no = #{boardNo}
	]]>
	<if test="startNo > 0">
		<![CDATA[
			and no < #{startNo} 
		]]>
	</if>
	<![CDATA[
		order by group_no desc, order_no asc
		 limit 0, 5
	]]>
</select>
</mapper>